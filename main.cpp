//
//  main.cpp
//  vigenere
//
//  Created by Abdullah Eryuzlu on 14.05.2018.
//  Copyright © 2018 abdullaheryuzlu. All rights reserved.
//

#include <iostream>
#include "vigenere.hpp"
#include "vigenere_cracker.hpp"
#include "pair.cpp"

static void show_usage(std::string name) {
    std::cerr << "Usage: " << name << " <option(s)> SOURCES\n"
    << "Options:\n"
    << "\t-h, --help\t\tShow this help message\n"
    << "\t-f, --freq-table\tSpecify frequency table path, if not default freq table will be used\n"
    << "\t-M, --max-kl\t\tSpecify max key length(Default: cipher length - 1)\n"
    << "\t-m, --min-kl\t\tSpecify min key length(Default: 2)\n"
    << "\t-c, --cipher\t\tSpecify decrypted cipher text\n"
    << "\t-f, --cipher-file\tSpecify the destination path to cipher text\n"
    << "\t-o, --output\t\tSpecify file path for output\n";
}

static bool is_args_valid(int argc, char* argv[]) {
    bool is_valid = false;
    for (int i = 0; i < argc; ++i) {
        std::string arg = argv[i];
        if (arg == "-c" || arg == "--cipher" ||
            arg == "-d" || arg == "--cipher-file") {
                is_valid = true;
            }
    }
    return is_valid;
}

int main(int argc, char* argv[]) {

    if (!is_args_valid(argc, argv)) {
        show_usage(argv[0]);
        return 1;
    }

    std::string max_kl;
    std::string min_kl;
    std::string cipher;
    bool cipher_is_file = false;
    std::string freq_table_path;
    std::string out;

    for (int i = 0; i < argc; ++i) {
        std::string arg = argv[i];
        if ((arg == "-h") || (arg == "--help")) {
            show_usage(argv[0]);
            return 0;
        } else if (arg == "-m" || arg == "--min-kl") {
            if (i + 1 < argc) min_kl = argv[i + 1];
            else {
                std::cerr << arg << " option requires one argument." << std::endl;
                return 1;
            }
        } else if (arg == "-M" || arg == "--max-kl") {
            if (i + 1 < argc) max_kl = argv[i + 1];
            else {
                std::cerr << arg << " option requires one argument." << std::endl;
                return 1;
            }
            std::cout << max_kl << std::endl;
        } else if (arg == "-c" || arg == "--cipher") {
            if (i + 1 < argc) cipher = argv[i + 1];
            else {
                std::cerr << arg << " option requires one argument." << std::endl;
                return 1;
            }
        } else if (arg == "-d" || arg == "--cipher-file") {
            if (i + 1 < argc) {
                cipher = argv[i + 1];
                cipher_is_file = true;
            }
            else {
                std::cerr << arg << " option requires one argument." << std::endl;
                return 1;
            }
        } else if (arg == "-o" || arg == "--output") {
            if (i + 1 < argc) out = argv[i + 1];
            else {
                std::cerr << arg << " option requires one argument." << std::endl;
                return 1;
            }
        } else if (arg == "-f" || arg == "--freq-table") {
            if (i + 1 < argc) freq_table_path = argv[i + 1];
            else {
                std::cerr << arg << " option requires one argument." << std::endl;
                return 1;
            }
        }
    }

    std::string output = Vigenere::encrypt("CONCEPT 1-623Studying Nature RevealsFour Scientific Principlesof SustainabilityHow can we live more sustainably? According to envi-ronmental  scientists,  we  should  study  how  life  on  theearth has survived and adapted to major changes in en-vironmental  conditions  for  billions  of  years.  We  could1-6   What Are Four Scientific Principlesof Sustainability?CONCEPT 1-6  Nature has sustained itself for billions of years by using solarenergy, biodiversity, population control, and nutrient cycling—lessons from naturethat we can apply to our lifestyles and economies.▲Reliance onSolar EnergyBiodiversityNutrient CyclingPopulation ControlFigure 1-17Four scientific principles of sustainability:  These four interconnected principles of sustainabilityare derived from learning how nature has sustained a variety of life forms on the earth for about 3.56 billion years.The top left oval shows sunlight stimulating the production of vegetation in the arctic tundra during its brief sum-mer (solar energy) and the top right oval shows some of the diversity of species found there during the summer(biodiversity). The bottom right oval shows arctic gray wolves stalking a caribou during the long cold winter (popu-lation control). The bottom left oval shows arctic gray wolves feeding on their kill. This, plus huge numbers of tinydecomposers that convert dead matter to soil nutrients, recycle all materials needed to support the plant growthshown in the top left and right ovals (nutrient cycling).make  the  transition  to  more  sustainable  societies  byapplying  theselessons  from  nature  to  our  lifestyles  andeconomies,  as  summarized  below  and  in  Figure  1-17(Concept 1-6).•Reliance on Solar Energy: the sun (solar capital)warms the planet and supports photosynthesisused by plants to provide food for themselves andfor us and most other animals.24CHAPTER 1    Environmental Problems, Their Causes, and Sustainabilitycountless ways for life to adapt to changing environ-mental conditions throughout the earth’s history.•Population Control: competition for limited resourcesamong different species places a limit on how muchtheir populations can grow.•Nutrient Cycling: natural processes recycle chemicalsthat plants and animals need to stay alive and re-produce (Figure 1-4). There is little or no waste innatural systems.Using the fourscientific principles of sustain-ability  to  guide  our  lifestyles  and  economiescould  help  us  bring  about  anenvironmental  orsustain-ability revolution during your lifetime (see the Guest Es-say by Lester R. Brown at CengageNOW). Figure 1-18lists  some  of  the  shifts  involved  in  bringing  about  thisnew  cultural  change  by  learning  how  to  live  moresustainably.Scientific  evidence  indicates  that  we  have  perhaps50  years  and  no  more  than  100  years  to  make  suchcrucial  cultural  changes.  If  this  is  correct,  sometimeduring this century we could come to a critical fork inthe road, at which point we will choose a path towardsustainability or continue on our current unsustainablecourse.  Everything  you  do,  or  do  not  do,  will  play  arole in our collective choice of which path we will take.One of the goals of this book is to provide a realistic en-vironmental vision of the future that, instead of immo-bilizing you with fear, gloom, and doom, will energizeyou by inspiring realistic hope.Waste preventionPollution preventionSustainability EmphasisProtecting habitatEnvironmental restorationLess resource wastePopulation stabilizationProtecting natural capitalCurrent EmphasisWaste disposal(bury or burn)Pollution cleanupProtecting speciesEnvironmentaldegradationIncreasing resource usePopulation growthDepleting and degradingnatural capitalFigure 1-18Solutions: some shifts involved in bringing about theenvironmental orsustainability revolution. Question:  Which  threeof these shifts do you think are most important? Why?What’s the use of a houseif you don’t have a decent planet to put it on?HENRY DAVID THOREAUExponential Growth and SustainabilityWe face an array of serious environmental problems. This bookis aboutsolutions to these problems. Making the transitionto more sustainable societies and economies challenges us todevise ways to slow down the harmful effects of exponentialgrowth (Core Case Study) and to use the same power of ex-ponential growth to implement more sustainable lifestyles andeconomies.The key is to apply the fourscientific principles of sus-tainability (Figure 1-17 andConcept 1-6) to the design of oureconomic and social systems and to our individual lifestyles. Wecan use such information to help slow human population growth,sharply reduce poverty, curb the unsustainable forms of resourceuse that are eating away at the earth’s natural capital, build socialcapital, and create a better world for ourselves, our children, andfuture generations.Exponential growth is a double-edged sword. It can causeenvironmental harm. But we can also use it positively to amplifybeneficial changes in our lifestyles and economies by applying thefourscientific principles of sustainability. Through our indi-vidual and collective actions or inactions, we choose which side ofthat sword to use.We are rapidly altering the planet that is our only home. Ifwe make the right choices during this century, we can create anextraordinary and sustainable future on our planetary home. If weget it wrong, we face irreversible ecological disruption that couldset humanity back for centuries and wipe out as many as half ofthe world’s species.You have the good fortune to be a member of the 21st cen-turytransition generation, which will decide what path humanitytakes. What a challenging and exciting time to be alive!REVISITING•Biodiversity (short forbiological diversity): the as-tounding variety of different organisms, the genesthey contain, the ecosystems in which they exist,and the natural services they provide have yieldedACADEMIC.CENGAGE.COM/BIOLOGY/MILLER25REVIEW1.  Review the Key Questions and Concepts for this chapteron p. 6. What isexponential growth? Why is living inan exponential age a cause for concern for everyone liv-ing on the planet?2.  Defineenvironment. Distinguish amongenvironmen-tal science, ecology, andenvironmentalism. Distin-guish between anorganism and aspecies. What is anecosystem? What issustainability? Explain the termsnatural capital, natural resources, natural services,solar capital, andnatural capital degradation. Whatisnutrient cycling and why is it important? Describe theultimate goal of anenvironmentally sustainable soci-ety. What isnatural income?3.  What is the difference betweeneconomic growth andeconomic development? Distinguish amonggrossdomestic product (GDP), per capita GDP, andpercapita GDP PPP. Distinguish betweendevelopedcountries anddeveloping countries and describe theirkey characteristics. What isenvironmentally sustain-able economic development?4.  What is aresource? What isconservation? Distinguishamong arenewable resource, nonrenewable re-source, andperpetual resource and give an example ofeach. What issustainable yield? Define and give threeexamples ofenvironmental degradation. What is thetragedy of the commons? Distinguish betweenrecyclingandreuse and give an example of each. What is aneco-logical footprint? What is aper capita ecologicalfootprint? Compare the total and per capita ecologicalfootprints of the United States and China.5.  What  isculture? Describe three major cultural changesthat have occurred since humans arrived on the earth.Why has each change led to more environmental degra-dation? What is theenvironmental orsustainabilityrevolution?6.  Definepollution. Distinguish betweenpoint sourcesandnonpoint sources of pollution. Distinguish betweenbiodegradable pollutants andnondegradable pollut-ants and give an example of each. Distinguish betweenpollution cleanup andpollution prevention and givean example of each. Describe three problems with solu-tions that rely mostly on pollution cleanup.7.  Identify five basic causes of the environmental problemsthat we face today. What ispoverty? In what ways dopoverty and affluence affect the environment? Explainthe problems we face by not including the harmful envi-ronmental costs in the prices of goods and services.8.  What is anenvironmental worldview? What isenvi-ronmental ethics? Distinguish among theplanetarymanagement, stewardship, andenvironmental wis-dom worldviews. Describe Aldo Leopold’s environmen-tal ethics. What major steps are involved in making anenvironmental decision? What issocial capital?9.  Discuss the lessons we can learn from the environmentaltransformation of Chattanooga, Tennessee (USA). Explainwhy individuals matter in dealing with the environmentalproblems we face.10.  What are fourscientific principles of sustainability?Explain how exponential growth (CoreCase Study) affects them.CRITICAL THINKING1.  List three ways in which you could applyConcepts 1-5Aand1-6 to making your lifestyle more environmentallysustainable.2.  Describe two environmentally beneficial forms of expo-nential growth (Core Case Study).3.  Explain why you agree or disagree with the fol-lowing propositions:a.  Stabilizing population is not desirable because, withoutmore consumers, economic growth would stop.b.  The world will never run out of resources because wecan use technology to find substitutes and to help usreduce resource waste.4.   Suppose the world’s population stopped growing today.What environmental problems might this help solve? Whatenvironmental problems would remain? What economicproblems might population stabilization make worse?5.  When you read that at least 19,200 people die prema-turely each day (13 per minute) from preventable mal-nutrition and infectious disease, do you(a) doubt that itis true,(b) not want to think about it,(c) feel hopeless,(d) feel sad,(e) feel guilty, or(f) want to do somethingabout this problem?6.  What do you think when you read that(a) the aver-age American consumes 30 times more resources thanNote:Key Terms are inbold type.26CHAPTER 1  Environmental Problems, Their Causes, and Sustainabilitythe average citizen of India, and(b) human activities areprojected to make the earth’s climate warmer? Are youskeptical, indifferent, sad, helpless, guilty, concerned, oroutraged? Which of these feelings help perpetuate suchproblems, and which can help solve them?7.  For each of the following actions, state one ormore of the fourscientific principles of sustaina-bility (Figure 1-17) that are involved:(a) recyclingsoda cans;(b) using a rake instead of leaf blower;(c) choosing to have no more than one child;(d) walk-ing to class instead of driving;(e) taking your own reus-able bags to the grocery store to carry things home in;(f) volunteering to help restore a prairie ; and(g) lobby-ing elected officials to require that 20% of your country’selectricity be produced by renewable wind power by 2020.8.  Explain why you agree or disagree with each of the fol-lowing statements:(a) humans are superior to otherforms of life,(b) humans are in charge of the earth,(c) all economic growth is good,(d) the value of otherforms of life depends only on whether they are useful tous,(e) because all forms of life eventually become extinctwe should not worry about whether our activities causetheir premature extinction,(f) all forms of life have aninherent right to exist,(g) nature has an almost unlim-ited storehouse of resources for human use,(h) technol-ogy can solve our environmental problems,(i) I do notbelieve I have any obligation to future generations, and( j) I do not believe I have any obligation to other formsof life.9.  What are the basic beliefs of your environmental world-view (p. 20)? Record your answer. Then at the end ofthis course, return to your answer to see if your environ-mental worldview has changed. Are the beliefs includedin your environmental worldview consistent with youranswers to question 8? Are your environmental actionsconsistent with your environmental worldview?10.  List two questions that you would like to have answeredas a result of reading this chapter.ECOLOGICAL FOOTPRINT ANALYSISNote:  See Supplement 13 (p. S78) for a list of Projects related to this chapter.If a country’s or the world’secological footprint per person (Fig-ure 1-10, p. 15) is larger than itsbiological capacity per person toreplenish its renewable resources and to absorb the resultingwaste products and pollution, it is said to have anecologicalPer CapitaPer CapitaEcologicalEcological FootprintBiocapacityCredit () or Debit ()Place(hectares per person)*(hectares per person)(hectares per person)World                                            2.2                                            1.80.4United States                                9.84.7China                                             1.6                                     0.8India0.8                                         0.4Russia4.4                                         0.9Japan4.4                                         0.7Brazil2.1                                         9.9Germany4.5                                         1.7United Kingdom5.6                                         1.6Mexico2.6                                         1.7Canada7.6                                       14.5Source: Date from WWF,Living Planet Report 2006.*1 hectare 2.47 acresdeficit. If the reverse is true, it has anecological credit orreserve.Use the data below to calculate the ecological deficit or creditfor various countries. (For a map of ecological creditors anddebtors, see Figure 4 on p. S26 in Supplement 4.)ACADEMIC.CENGAGE.COM/BIOLOGY/MILLER27LEARNING ONLINELog on to the Student Companion Site for this book atacademic.cengage.com/biology/miller, and chooseChapter 1 for many study aids and ideas for further read-ing and research. These include flash cards, practice quiz-zing, Weblinks, information on Green Careers, and InfoTrac®College Edition articles.1.  Which two countries have the largest ecological deficits?2.  Which two countries have an ecological credit?3.  Rank the countries in order from the largest to the small-est per capita footprint.CORE CASE STUDYleaving each forested valley had to flow across a dam where sci-entists could measure its volume and dissolved nutrient content.In the first experiment, the investigators measured theamounts of water and dissolved plant nutrients that entered andleft an undisturbed forested area (the control site) (Figure 2-1,left). These measurements showed that an undisturbed matureforest is very efficient at storing water and retaining chemicalnutrients in its soils.The next experiment involved setting up an experimentalforested area. One winter, the investigators cut down all treesand shrubs in one valley (the experimental site), left them wherethey fell, and sprayed the area with herbicides to prevent theregrowth of vegetation. Then they compared the inflow andoutflow of water and nutrients in this experimental site (Fig-ure 2-1, right) with those in the control site (Figure 2-1, left) for3 years.With no plants to help absorb and retain water, the amountof water flowing out of the deforested valley increased by30–40%. As this excess water ran rapidly over the ground, iteroded soil and carried dissolved nutrients out of the deforestedsite. Overall, the loss of key nutrients from the experimental for-est was six to eight times that in the nearby control forest.Carrying Out a ControlledScientific ExperimentOne way in which scientists learn about how nature works isto conduct acontrolled experiment. To begin, scientists isolatevariables, or factors that can change within a system or situationbeing studied. An experiment involvingsingle-variable analysisis designed to isolate and study the effects of one variable ata time.To do such an experiment, scientists set up two groups. Oneis theexperimental group in which a chosen variable is changedin a known way, and the other is thecontrol group in which thechosen variable is not changed. If the experiment is designed andrun properly, differences between the two groups should resultfrom the variable that was changed in the experimental group.In 1963, botanist F. Herbert Bormann, forest ecologistGene Likens, and their colleagues began carrying out a clas-sic controlled experiment. The goal was to compare the loss ofwater and nutrients from an uncut forest ecosystem (thecontrolsite) with one that was stripped of its trees (theexperimentalsite).They built V-shaped concrete dams across the creeks at thebottoms of several forested valleys in the Hubbard Brook Experi-mental Forest in New Hampshire (Figure 2-1). The dams wereanchored on impenetrable bedrock, so that all surface waterScience, Matter, Energy,and Systems2Figure 2-1  Controlled field experiment to measure the effects of deforestation on the loss of water and soil nu-trients from a forest. V–notched dams were built into the impenetrable bedrock at the bottoms of several forestedvalleys (left) so that all water and nutrients flowing from each valley could be collected and measured for volumeand mineral content. These measurements were recorded for the forested valley (left), which acted as the controlsite. Then all the trees in another valley (the experimental site) were cut (right) and the flows of water and soil nutri-ents from this experimental valley were measured for 3 years.Links:refers to the Core Case Study.refers to the book’s sustainability theme.indicates links to key concepts in earlier chapters.29Key Questions and Concepts2-1  What is science?CONCEPT 2-1  Scientists collect data and develop theories,models, and laws about how nature works.2-2  What is matter?CONCEPT 2-2  Matter consists of elements and compounds,which are in turn made up of atoms, ions, or molecules.2-3  How can matter change?CONCEPT 2-3  When matter undergoes a physical or chemicalchange, no atoms are created or destroyed (the law of conservationof matter).2-4  What is energy and how can it be changed?CONCEPT 2-4A  When energy is converted from one form toanother in a physical or chemical change, no energy is created ordestroyed (first law of thermodynamics).CONCEPT 2-4B  Whenever energy is changed from one form toanother, we end up with lower-quality or less usable energy thanwe started with (second law of thermodynamics).2-5  What are systems and how do they respond tochange?CONCEPT 2-5A  Systems have inputs, flows, and outputs ofmatter and energy, and their behavior can be affected byfeedback.CONCEPT 2-5B  Life, human systems, and the earth’s life-support systems must conform to the law of conservation of matterand the two laws of thermodynamics.Note:  Supplements 1 (p. S2), 2 (p. S4), 5 (p. S31), and 6 (p. S39) can be used with thischapter.Science is an adventure of the human spirit.It is essentially an artistic enterprise, stimulated largely by curiosity,served largely by disciplined imagination,and based largely on faith in the reasonableness, order,and beauty of the universe.WARREN WEAVERScience Is a Search for Orderin NatureHave  you  ever  seen  an  area  in  a  forest  where  all  thetrees  were  cut  down?  If  so,  you  might  wonder  aboutthe  effects  of  cutting  down  all  those  trees.  You  mightwonder  how  it  affected  the  animals  and  people  livingin that area and how it affected the land itself. That iswhat scientists Bormann and Likens (Core CaseStudy) thought about when they designed theirexperiment.Such  curiosity  is  what  motivates  scientists.Sci-ence  is  an  endeavor  to  discover  how  nature  worksand  to  use  that  knowledge  to  make  predictions  aboutwhat  is  likely  to  happen  in  nature.  It  is  based  on  theassumption that events in the natural world follow or-derly cause-and-effect patterns that can be understoodthrough  careful  observation,  measurements,  experi-mentation,  and  modeling.  Figure  2-2  (p.  30)  summa-rizes the scientific process.There is nothing mysterious about this process. Youuse  it  all  the  time  in  making  decisions.  Here  is  an  ex-ample of applying the scientific process to an everydaysituation:      Observation: You try to switch on your flashlight andnothing happens.      Question: Why didn’t the light come on?      Hypothesis: Maybe the batteries are dead.Test the hypothesis: Put in new batteries and try toswitch on the flashlight.2-1    What Is Science?CONCEPT 2-1  Scientists collect data and develop theories, models, and laws abouthow nature works.▲30CHAPTER 2  Science, Matter, Energy, and Systems      Result: Flashlight still does not work.      New      hypothesis: Maybe the bulb is burned out.      Experiment: Replace bulb with a new bulb.      Result: Flashlight works when switched on.      Conclusion: Second hypothesis is verified.Here is a more formal outline of steps scientists of-ten  take  in  trying  to  understand  nature,  although  notalways in the order listed:•Identify a problem. Bormann and Likens(Core Case Study) identified the loss of waterand soil nutrients from cutover forests as aproblem worth studying.•Find out what is known about the problem. Bormannand Likens searched the scientific literature to findout what was known about retention and loss ofwater and soil nutrients in forests.•Ask a question to be investigated. The scientists asked:“How does clearing forested land affect its ability tostore water and retain soil nutrients?•Collect data to answer the question. To collectdata—information needed to answer their questions—scientists make observations of the subject areathey are studying. Scientific observations involvegathering information by using human senses ofsight, smell, hearing, and touch and extendingthose senses by using tools such as rulers, micro-scopes, and satellites. Often scientists conductexperiments, or procedures carried out undercontrolled conditions to gather information and testideas. Bormann and Likens collected and analyzeddata on the water and soil nutrients flowing froma patch of an undisturbed forest (Figure 2-1, left)and from a nearby patch of forest where they hadcleared the trees for their experiment (Figure 2-1,right).•Propose a hypothesis to explain the data. Scientists sug-gest ascientific hypothesis, a possible and test-able explanation of what they observe in natureor in the results of their experiments. The datacollected by Bormann and Likens show a decreasein the ability of a cleared forest to store water andretain soil nutrients such as nitrogen. They cameup with the following hypothesis to explain theirdata: When a forest is cleared, it retains less waterand loses large quantities of its soil nutrients whenwater from rain and melting snow flows across itsexposed soil.•Make testable predictions. Scientists use a hypothesisto make testable or logical predictions about whatshould happen if the hypothesis is valid. They of-ten do this by making “If . . . then” predictions.Bormann and Likens predicted thatif their originalhypothesis was valid for nitrogen,then a clearedforest should also lose other soil nutrients such asphosphorus.•Test the predictions with further experiments, models,or observations. To test their prediction, Bormannand Likens repeated their controlled experimentand measured the phosphorus content of the soil.Another way to test predictions is to develop amodel, an approximate representation or simula-tion of a system being studied. Since Bormann andLikens performed their experiments, scientists havedeveloped increasingly sophisticated mathematicaland computer models of how forest systems work.Data from Bormann and Likens’s research and thatof other scientists can be fed into such models andScientific lawWell-acceptedpattern in dataScientific theoryWell-tested andwidely acceptedhypothesisAccepthypothesisRevisehypothesisPerform an experimentto test predictionsUse hypothesis to maketestable predictionsPropose an hypothesisto explain dataAnalyze data(check for patterns)Perform an experimentto answer the questionand collect dataAsk a question to beinvestigatedFind out what is knownabout the problem(literature search)Identify a problemTestpredictionsMake testablepredictionsFigure 2-2Whatscientists do. The es-sence of science is thisprocess for testingideas about how na-ture works. Scientistsdo not necessarily fol-low the exact order ofsteps shown here. Forexample, sometimes ascientist might start byformulating a hypoth-esis to answer the ini-tial question and thenrun experiments totest the hypothesis.CONCEPT 2-131SCIENCE FOCUSEaster Island: Some Revisions to a Popular Environmental Storyas a source of protein for the long voyage)played a key role in the island’s permanentdeforestation. Over the years, the rats multi-plied rapidly into the millions and devouredthe seeds that would have regenerated theforests.Another of Hunt’s conclusions was thatafter 1722, the population of Polynesians onthe island dropped to about 100, mostly fromcontact with European visitors and invaders.Hunt hypothesized that these newcomers in-troduced fatal diseases, killed off some of theislanders, and took large numbers of themaway to be sold as slaves.This story is an excellent example of howscience works. The gathering of new scientificdata and reevaluation of older data led to arevised hypothesis that challenges our think-ing about the decline of civilization on EasterIsland. As a result, the tragedy may not be asclear an example of human-caused ecologi-cal collapse as was once thought. However,there is evidence that other earlier civilizationsdid suffer ecological collapse largely fromunsustainable use of soil, water, and otherresources, as described in Supplement 5 onp. S31.Critical ThinkingDoes the new doubt about the original EasterIsland hypothesis mean that we should notbe concerned about using resources unsus-tainably on the island in space we call Earth?Explain.eroded, crop yields plummeted, and faminestruck. There was no firewood for cookingor keeping warm. According to the originalhypothesis, the population and the civiliza-tion collapsed as rival clans fought one an-other for dwindling food supplies, and theisland’s population dropped sharply. By thelate 1870s, only about 100 native islanderswere left.In 2006, anthropologist Terry L. Hunt,Director of the University of Hawaii Rapa NuiArcheological Field School, evaluated theaccuracy of past measurements and otherevidence and carried out new measurementsto estimate the ages of various artifacts. Heused these data to formulate an alternativehypothesis describing the human tragedy onEaster Island.Hunt came to several new conclusions.First, the Polynesians arrived on the islandabout 800 years ago, not 2,900 years ago.Second, their population size probably neverexceeded 3,000, contrary to the earlier esti-mate of up to 15,000.Third, the Polynesiansdid use the island’s trees and other vegetationin an unsustainable manner, and by 1722,visitors reported that most of the island’strees were gone.But one question not answered by theearlier hypothesis was, why did the treesnever grow back? Recent evidence andHunt’s new hypothesis suggest that rats(which either came along with the originalsettlers as stowaways or were brought alongor years, the story of Easter Islandhas been used in textbooks asan example of how humans can seriouslydegrade their own life-support system. Itconcerns a civilization that once thrived andthen largely disappeared from a small,isolated island in the great expanse of theSouth Pacific, located about 3,600 kilome-ters (2,200 miles) off the coast of Chile.Scientists used anthropological evidenceand scientific measurements to estimate theages of certain artifacts found on EasterIsland (also called Rapa Nui). They hypothe-sized that about 2,900 years ago, Polynesiansused double-hulled, seagoing canoes to colo-nize the island. The settlers probably found aparadise with fertile soil that supported denseand diverse forests and lush grasses. Accord-ing to this hypothesis, the islanders thrived,and their population increased to as many as15,000 people.Measurements made by scientistsseemed to indicate that over time, thePolynesians began living unsustainably byusing the island’s forest and soil resourcesfaster than they could be renewed. Whenthey used up the large trees, the islanderscould no longer build their traditional sea-going canoes for fishing in deeper offshorewaters, and no one could escape the islandby boat.Without the once-great forests to ab-sorb and slowly release water, springsand streams dried up, exposed soils wereFused to predict the loss of phosphorus and othertypes of soil nutrients. These predictions can becompared with the actual measured losses to testthe validity of the models.•Accept or reject the hypothesis. If their new data do notsupport their hypotheses, scientists come up withother testable explanations. This process continuesuntil there is general agreement among scientists inthe field being studied that a particular hypothesisis the best explanation of the data. After Bormannand Likens confirmed that the soil in a cleared for-est also loses phosphorus, they measured lossesof other soil nutrients, which also supported theirhypothesis. A well-tested and widely accepted sci-entific hypothesis or a group of related hypothesesis called ascientific theory. Thus, Bormann andLikens and their colleagues developed a theory thattrees and other plants hold soil in place and help itto retain water and nutrients needed by the plantsfor their growth.Important features of the scientific process arecuri-osity, skepticism, peer review, reproducibility, andopenness tonew  ideas.  Good  scientists  are  extremely  curious  abouthow  nature  works.  But  they  tend  to  be  highly  skepti-cal of new data, hypotheses, and models until they canbe tested and verified.Peer review happens when sci-entists  report  details  of  the  methods  and  models  theyused, the results of their experiments, and the reason-ing behind their hypotheses for other scientists workingin the same field (their peers) to examine and criticize.Ideally,  other  scientists  repeat  and  analyze  the  workto  see  if  the  data  can  be  reproduced  and  whether  theproposed  hypothesis  is  reasonable  and  useful  (ScienceFocus, below).For  example,  Bormann  and  Likens  (CoreCase  Study)  submitted  the  results  of  their  for-32CHAPTER 2  Science, Matter, Energy, and Systemsto  explain  some  of  their  observations  in  nature.  Oftensuch  ideas  defy  conventional  logic  and  current  scien-tific knowledge. According to physicist Albert Einstein,“There is no completely logical way to a new scientificidea.”  Intuition,  imagination,  and  creativity  are  as  im-portant in science as they are in poetry, art, music, andother great adventures of the human spirit, as reflectedby  scientist  Warren  Weaver’s  quotation  found  at  theopening of this chapter.Scientific Theories and LawsAre the Most Important Resultsof ScienceIf an overwhelming body of observations and measure-ments supports a scientific hypothesis, it becomes a sci-entific theory.Scientific theories are not to be taken lightly.They have been tested widely, are supported by exten-sive  evidence,  and  are  accepted  by  most  scientists  in  aparticular field or related fields of study.Nonscientists  often  use  the  wordtheory  incorrectlywhen they actually meanscientific hypothesis, a tentativeexplanation  that  needs  further  evaluation.  The  state-ment, “Oh, that’s just a theory,” made in everyday con-versation,  implies  that  the  theory  was  stated  withoutproper  investigation  and  careful  testing—the  oppositeof the scientific meaning of the word.Another important and reliable outcome of scienceis  ascientific  law,  orlaw  of  nature:  a  well-testedand  widely  accepted  description  of  what  we  find  hap-pening over and over again in the same way in nature.An example is thelaw of gravity, based on countless ob-servations  and  measurements  of  objects  falling  fromdifferent  heights.  According  to  this  law,  all  objects  fallto the earth’s surface at predictable speeds.A scientific law is no better than the accuracy of theobservations  or  measurements  upon  which  it  is  based(see Figure 1 in Supplement 1 on p. S3). But if the dataare  accurate,  a  scientific  law  cannot  be  broken,  unlessand until we get contradictory new data.Scientific  theories  and  laws  have  a  high  probabil-ity of being valid, but they are not infallible. Occasion-ally,  new  discoveries  and  new  ideas  can  overthrow  awell-accepted scientific theory or law in what is called aparadigm shift. It occurs when the majority of scien-tists in a field or related fields accept a newparadigm, orframework for theories and laws in a particular field.A good way to summarize the most important out-comes of science is to say that scientists collect data anddevelop  theories,  models,  and  laws  that  describe  andexplain how nature works (Concept 2-1). Scientists usereasoning  and  critical  thinking  skills.  But  the  best  sci-entists  also  use  intuition,  imagination,  and  creativityin  asking  important  questions,  developing  hypotheses,and designing ways to test them.For a superb look at how science works and what sci-entists do, see the Annenberg video series,The HabitablePlanet:  A  Systems  Approach  to  Environmental  Science  (seeest experiments to a respected scientific journal. Beforepublishing  this  report,  the  journal  editors  had  it  re-viewed by other soil and forest experts. Other scientistshave repeated the measurements of soil content in un-disturbed and cleared forests of the same type and alsoin different types of forests. Their results have also beensubjected to peer review. In addition, computer modelsof forest systems have been used to evaluate this prob-lem, with the results subjected to peer review.Scientific knowledge advances in this way, with sci-entists continually questioning measurements, makingnew  measurements,  and  sometimes  coming  up  withnew  and  better  hypotheses  (Science  Focus,  p.  31).  Asa  result,  good  scientists  areopen  to  new  ideas  that  havesurvived the rigors of the scientific process.Scientists Use Reasoning,Imagination, and Creativityto Learn How Nature WorksScientists arrive at conclusions, with varying degrees ofcertainty,  by  using  two  major  types  of  reasoning.In-ductive reasoning involves using specific observationsand measurements to arrive at a general conclusion orhypothesis.  It  is  a  form  of  “bottom-up”  reasoning  thatgoes from the specific to the general. For example, sup-pose we observe that a variety of different objects fall tothe ground when we drop them from various heights.We  can  then  use  inductive  reasoning  to  propose  thatall objects fall to the earth’s surface when dropped.Depending  on  the  number  of  observations  made,there may be a high degree of certainty in this conclu-sion. However, what we are really saying is “All objectsthat we or other observers have dropped from variousheights have fallen to the earth’s surface.” Although itis extremely unlikely, we cannot beabsolutely sure thatno one will ever drop an object that does not fall to theearth’s surface.Deductive  reasoning  involves  using  logic  to  ar-rive  at  a  specific  conclusion  based  on  a  generalizationor  premise.  It  is  a  form  of  “top-down”  reasoning  thatgoes from the general to the specific. For example,Generalization or premise: All birds have feathers.      Example: Eagles are birds.      Deductive      conclusion: Eagles have feathers.THINKING ABOUTThe Hubbard Brook Experiment and ScientificReasoningIn carrying out and interpreting their experiment,did Bormann and Likens rely primarily on inductive ordeductive reasoning?Deductive and inductive reasoning and critical think-ing  skills  (pp.  2–3)  are  important  scientific  tools.  Butscientists also use intuition, imagination, and creativity", "BIROLLANDINAPOCANERYUZLU");

   UnsignedPair<float> freqs;
   const std::string m_DEFAULT_PATH = "./default_freq_table.txt";
   freq_table_path = freq_table_path == "" ? m_DEFAULT_PATH : freq_table_path;
   std::ifstream infile(freq_table_path);
   char a; float b;
   while (infile >> a >> b) {
       freqs.set_value(a, b);
   }

   cipher = output;
   VigenereCracker vc(cipher, freqs, min_kl, max_kl);
   vc.crack();

   return 0;
}
